<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Doctor Details</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{font-family:'Inter',system-ui,Segoe UI,Roboto,Arial;margin:0;padding:30px;background:#f8fafc;color:#0f172a}
    .container{max-width:980px;margin:0 auto}
    .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
    .card{background:#fff;border:1px solid #e2e8f0;border-radius:14px;padding:20px;box-shadow:0 8px 18px rgba(15,23,42,0.06)}
    .grid{display:grid;grid-template-columns:1.2fr 1fr;gap:18px}
    .title{font-size:24px;font-weight:700;margin:0}
    .sub{color:#64748b;margin-top:4px}
    .label{color:#64748b;font-size:12px;text-transform:uppercase;letter-spacing:.06em;margin-bottom:6px}
    .value{font-weight:600}
    .meta{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:16px}
    .badge{display:inline-block;background:#e2f3ff;color:#0369a1;border-radius:999px;padding:6px 12px;font-size:12px;font-weight:600}
    .img-wrap{border:1px dashed #cbd5f5;border-radius:12px;padding:12px;background:#f8fafc}
    img{max-width:100%;border-radius:10px}
    .actions a{display:inline-block;margin-top:16px;text-decoration:none;background:#2563eb;color:#fff;padding:10px 14px;border-radius:10px}
    .actions a:hover{background:#1d4ed8}
    .muted{color:#94a3b8}
    iframe{width:100%;height:520px;border:none;border-radius:10px}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 class="title">Dr. {{ doctor.name }}</h1>
        <div class="sub">{{ doctor.department_name or 'Department not set' }}</div>
      </div>
      <div class="badge">Doctor Profile</div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="label">Qualifications</div>
        <div class="value">{{ doctor.qualification or 'Not provided' }}</div>

        <div class="meta">
          <div>
            <div class="label">License Number</div>
            <div class="value">{{ doctor.license_number or 'Not provided' }}</div>
          </div>
          <div>
            <div class="label">Consultation Fee</div>
            <div class="value">₹{{ doctor.fee if doctor.fee is not none else 'N/A' }}</div>
          </div>
          <div>
            <div class="label">Email</div>
            <div class="value">{{ doctor.email or 'Not provided' }}</div>
          </div>
          <div>
            <div class="label">Phone</div>
            <div class="value">{{ doctor.phone or 'Not provided' }}</div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="label">Digital Signature</div>
        <div class="img-wrap">
          {% if signature_url %}
            <img src="{{ signature_url }}" alt="Doctor signature">
          {% else %}
            <div class="muted">No signature uploaded.</div>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="card" style="margin-top:18px">
      <div class="label">Medical Certificate</div>
      {% if certificate_url %}
        {% if certificate_is_pdf %}
          <iframe src="{{ certificate_url }}"></iframe>
        {% else %}
          <img src="{{ certificate_url }}" alt="Doctor certificate">
        {% endif %}
        <div class="actions">
          <a href="{{ certificate_url }}" target="_blank" rel="noopener">Open Certificate</a>
        </div>
      {% else %}
        <div class="muted">No certificate uploaded.</div>
      {% endif %}
    </div>

    <div class="actions">
      {% if session.user.role == 'admin' %}
        <a href="{{ url_for('dashboard_admin_view') }}">← Back to Admin Dashboard</a>
      {% else %}
        <a href="{{ url_for('dashboard_patient_view') }}">← Back to Patient Dashboard</a>
      {% endif %}
    </div>
  </div>
</body>
</html>
